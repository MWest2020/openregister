"use strict";(self.webpackChunkopen_catalogi_docs=self.webpackChunkopen_catalogi_docs||[]).push([[8622],{8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>d});var i=n(6540);const l={},r=i.createContext(l);function s(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(r.Provider,{value:t},e.children)}},9692:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Features/object-deletion","title":"Object Deletion","description":"Open Register implements a soft deletion strategy for objects, ensuring data can be recovered and maintaining referential integrity.","source":"@site/docs/Features/object-deletion.md","sourceDirName":"Features","slug":"/Features/object-deletion","permalink":"/docs/Features/object-deletion","draft":false,"unlisted":false,"editUrl":"https://github.com/conductionnl/openregister/tree/main/website/docs/Features/object-deletion.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Object Metadata","permalink":"/docs/Features/metadata"},"next":{"title":"Object Locking","permalink":"/docs/Features/object-locking"}}');var l=n(4848),r=n(8453);const s={},d="Object Deletion",o={},c=[{value:"Overview",id:"overview",level:2},{value:"Deletion Metadata",id:"deletion-metadata",level:2},{value:"Deletion States",id:"deletion-states",level:2},{value:"Deletion Logic",id:"deletion-logic",level:2},{value:"Key Benefits",id:"key-benefits",level:2},{value:"Related Features",id:"related-features",level:2}];function a(e){const t={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.header,{children:(0,l.jsx)(t.h1,{id:"object-deletion",children:"Object Deletion"})}),"\n",(0,l.jsx)(t.p,{children:"Open Register implements a soft deletion strategy for objects, ensuring data can be recovered and maintaining referential integrity."}),"\n",(0,l.jsx)(t.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(t.p,{children:"The deletion system provides:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Soft deletion of objects"}),"\n",(0,l.jsx)(t.li,{children:"Retention of relationships"}),"\n",(0,l.jsx)(t.li,{children:"Configurable retention periods"}),"\n",(0,l.jsx)(t.li,{children:"Recovery capabilities"}),"\n",(0,l.jsx)(t.li,{children:"Audit trail preservation"}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"deletion-metadata",children:"Deletion Metadata"}),"\n",(0,l.jsx)(t.p,{children:"When an object is deleted, the following metadata is stored:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Field"}),(0,l.jsx)(t.th,{children:"Type"}),(0,l.jsx)(t.th,{children:"Description"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"deleted"}),(0,l.jsx)(t.td,{children:"datetime"}),(0,l.jsx)(t.td,{children:"When the object was marked as deleted"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"deletedBy"}),(0,l.jsx)(t.td,{children:"string"}),(0,l.jsx)(t.td,{children:"User ID who performed the deletion"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"deletedReason"}),(0,l.jsx)(t.td,{children:"string"}),(0,l.jsx)(t.td,{children:"Optional reason for deletion"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"retentionPeriod"}),(0,l.jsx)(t.td,{children:"integer"}),(0,l.jsx)(t.td,{children:"How long to keep the deleted object (in days)"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"purgeDate"}),(0,l.jsx)(t.td,{children:"datetime"}),(0,l.jsx)(t.td,{children:"When the object will be permanently deleted"})]})]})]}),"\n",(0,l.jsx)(t.h2,{id:"deletion-states",children:"Deletion States"}),"\n",(0,l.jsx)(t.p,{children:"Objects can exist in the following states:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Active (deleted = null)"}),"\n",(0,l.jsx)(t.li,{children:"Soft Deleted (deleted = timestamp)"}),"\n",(0,l.jsx)(t.li,{children:"Pending Purge (current date > purgeDate)"}),"\n",(0,l.jsx)(t.li,{children:"Purged (permanently deleted)"}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"deletion-logic",children:"Deletion Logic"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsx)(t.li,{children:"Objects are never immediately deleted from the database"}),"\n",(0,l.jsx)(t.li,{children:"Deletion sets the 'deleted' timestamp and related metadata"}),"\n",(0,l.jsx)(t.li,{children:"Deleted objects are excluded from normal queries"}),"\n",(0,l.jsx)(t.li,{children:"Relations to deleted objects are preserved"}),"\n",(0,l.jsx)(t.li,{children:"Files linked to deleted objects are moved to a trash folder"}),"\n",(0,l.jsx)(t.li,{children:"Deleted objects can be restored until purge date"}),"\n",(0,l.jsx)(t.li,{children:"Objects are only permanently deleted after retention period"}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.strong,{children:"Data Safety"})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Prevent accidental data loss"}),"\n",(0,l.jsx)(t.li,{children:"Maintain data relationships"}),"\n",(0,l.jsx)(t.li,{children:"Support data recovery"}),"\n",(0,l.jsx)(t.li,{children:"Preserve audit history"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.strong,{children:"Compliance"})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Meet retention requirements"}),"\n",(0,l.jsx)(t.li,{children:"Support legal holds"}),"\n",(0,l.jsx)(t.li,{children:"Track deletion reasons"}),"\n",(0,l.jsx)(t.li,{children:"Document deletion process"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(t.li,{children:["\n",(0,l.jsx)(t.p,{children:(0,l.jsx)(t.strong,{children:"Management"})}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"Flexible retention policies"}),"\n",(0,l.jsx)(t.li,{children:"Controlled purge process"}),"\n",(0,l.jsx)(t.li,{children:"Recovery options"}),"\n",(0,l.jsx)(t.li,{children:"Clean data lifecycle"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"related-features",children:"Related Features"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/docs/Features/audit-trails",children:"Audit Trails"})," - Track deletion operations"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/docs/Features/object-locking",children:"Object Locking"})," - Prevent deletions of locked objects"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/docs/Features/access-control",children:"Access Control"})," - Manage deletion permissions"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"/docs/Features/time-travel",children:"Time Travel"})," - View objects at points before deletion"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);