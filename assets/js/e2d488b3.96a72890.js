"use strict";(self.webpackChunkopen_register_docs=self.webpackChunkopen_register_docs||[]).push([[215],{2248:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>p});var a=t(8168),r=(t(6540),t(5680));const i={title:"Schemas",sidebar_position:3},s="Schemas",o={unversionedId:"Core/schemas",id:"Core/schemas",title:"Schemas",description:"What is a Schema?",source:"@site/docs/Core/schemas.md",sourceDirName:"Core",slug:"/Core/schemas",permalink:"/docs/Core/schemas",draft:!1,editUrl:"https://github.com/conductionnl/openregister/tree/main/website/docs/Core/schemas.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{title:"Schemas",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Registers",permalink:"/docs/Core/registers"},next:{title:"Objects",permalink:"/docs/Core/objects"}},l={},p=[{value:"What is a Schema?",id:"what-is-a-schema",level:2},{value:"Schema Structure",id:"schema-structure",level:2},{value:"Example Schema",id:"example-schema",level:2},{value:"Schema Use Cases",id:"schema-use-cases",level:2},{value:"1. Data Validation",id:"1-data-validation",level:3},{value:"2. Documentation",id:"2-documentation",level:3},{value:"3. API Contract",id:"3-api-contract",level:3},{value:"4. UI Generation",id:"4-ui-generation",level:3},{value:"Working with Schemas",id:"working-with-schemas",level:2},{value:"Creating a Schema",id:"creating-a-schema",level:3},{value:"Retrieving Schema Information",id:"retrieving-schema-information",level:3},{value:"Updating a Schema",id:"updating-a-schema",level:3},{value:"Schema Versioning",id:"schema-versioning",level:3},{value:"Schema Design Best Practices",id:"schema-design-best-practices",level:2},{value:"Relationship to Other Concepts",id:"relationship-to-other-concepts",level:2},{value:"Conclusion",id:"conclusion",level:2}],c={toc:p},m="wrapper";function d(e){let{components:n,...t}=e;return(0,r.yg)(m,(0,a.A)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"schemas"},"Schemas"),(0,r.yg)("h2",{id:"what-is-a-schema"},"What is a Schema?"),(0,r.yg)("p",null,"In Open Register, a ",(0,r.yg)("strong",{parentName:"p"},"Schema")," defines the structure, validation rules, and relationships for data objects. Schemas act as blueprints that specify:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"What ",(0,r.yg)("strong",{parentName:"li"},"fields")," an object should have"),(0,r.yg)("li",{parentName:"ul"},"What ",(0,r.yg)("strong",{parentName:"li"},"data types")," those fields should be"),(0,r.yg)("li",{parentName:"ul"},"Which fields are ",(0,r.yg)("strong",{parentName:"li"},"required")," vs. optional"),(0,r.yg)("li",{parentName:"ul"},"Any ",(0,r.yg)("strong",{parentName:"li"},"constraints")," on field values (min/max, patterns, enums)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Relationships")," between different objects")),(0,r.yg)("p",null,"Open Register uses JSON Schema as its schema definition language, providing a powerful and standardized way to describe data structures."),(0,r.yg)("h2",{id:"schema-structure"},"Schema Structure"),(0,r.yg)("p",null,"A schema in Open Register consists of the following key components:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Property"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"id")),(0,r.yg)("td",{parentName:"tr",align:null},"Unique identifier for the schema")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"title")),(0,r.yg)("td",{parentName:"tr",align:null},"Human-readable name of the schema")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"version")),(0,r.yg)("td",{parentName:"tr",align:null},"Schema version in semantic versioning format")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"description")),(0,r.yg)("td",{parentName:"tr",align:null},"Detailed explanation of what the schema represents")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"summary")),(0,r.yg)("td",{parentName:"tr",align:null},"Brief summary of the schema's purpose")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"required")),(0,r.yg)("td",{parentName:"tr",align:null},"Array of property names that are required")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"properties")),(0,r.yg)("td",{parentName:"tr",align:null},"Object defining the properties and their types")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"archive")),(0,r.yg)("td",{parentName:"tr",align:null},"Archive of previous schema versions")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"updated")),(0,r.yg)("td",{parentName:"tr",align:null},"Timestamp of last update")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("inlineCode",{parentName:"td"},"created")),(0,r.yg)("td",{parentName:"tr",align:null},"Timestamp of creation")))),(0,r.yg)("h2",{id:"example-schema"},"Example Schema"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "id": "person",\n  "title": "Person",\n  "version": "1.0.0",\n  "description": "Schema for representing a person with basic information",\n  "summary": "Basic person information",\n  "required": ["firstName", "lastName", "birthDate"],\n  "properties": {\n    "firstName": {\n      "type": "string",\n      "description": "Person\'s first name"\n    },\n    "lastName": {\n      "type": "string",\n      "description": "Person\'s last name"\n    },\n    "birthDate": {\n      "type": "string",\n      "format": "date",\n      "description": "Person\'s date of birth in ISO 8601 format"\n    },\n    "email": {\n      "type": "string",\n      "format": "email",\n      "description": "Person\'s email address"\n    },\n    "address": {\n      "type": "object",\n      "description": "Person\'s address",\n      "properties": {\n        "street": { "type": "string" },\n        "city": { "type": "string" },\n        "postalCode": { "type": "string" },\n        "country": { "type": "string" }\n      }\n    },\n    "phoneNumbers": {\n      "type": "array",\n      "items": {\n        "type": "object",\n        "properties": {\n          "type": { \n            "type": "string",\n            "enum": ["home", "work", "mobile"]\n          },\n          "number": { "type": "string" }\n        }\n      }\n    }\n  },\n  "archive": {},\n  "updated": "2023-04-20T11:25:00Z",\n  "created": "2023-01-05T08:30:00Z"\n}\n')),(0,r.yg)("h2",{id:"schema-use-cases"},"Schema Use Cases"),(0,r.yg)("p",null,"Schemas serve multiple purposes in Open Register:"),(0,r.yg)("h3",{id:"1-data-validation"},"1. Data Validation"),(0,r.yg)("p",null,"Schemas ensure that all data entering the system meets defined requirements, maintaining data quality and consistency."),(0,r.yg)("h3",{id:"2-documentation"},"2. Documentation"),(0,r.yg)("p",null,"Schemas serve as self-documenting specifications for data structures, helping developers understand what data is available and how it's organized."),(0,r.yg)("h3",{id:"3-api-contract"},"3. API Contract"),(0,r.yg)("p",null,"Schemas define the contract between different systems, specifying what data can be exchanged and in what format."),(0,r.yg)("h3",{id:"4-ui-generation"},"4. UI Generation"),(0,r.yg)("p",null,"Schemas can be used to automatically generate forms and other UI elements, ensuring that user interfaces align with data requirements."),(0,r.yg)("h2",{id:"working-with-schemas"},"Working with Schemas"),(0,r.yg)("h3",{id:"creating-a-schema"},"Creating a Schema"),(0,r.yg)("p",null,"To create a new schema, you define its structure and validation rules:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'POST /api/schemas\n{\n  "title": "Product",\n  "version": "1.0.0",\n  "description": "Schema for product information",\n  "required": ["name", "sku", "price"],\n  "properties": {\n    "name": {\n      "type": "string",\n      "description": "Product name"\n    },\n    "sku": {\n      "type": "string",\n      "description": "Stock keeping unit"\n    },\n    "price": {\n      "type": "number",\n      "minimum": 0,\n      "description": "Product price"\n    },\n    "description": {\n      "type": "string",\n      "description": "Product description"\n    },\n    "category": {\n      "type": "string",\n      "description": "Product category"\n    }\n  }\n}\n')),(0,r.yg)("h3",{id:"retrieving-schema-information"},"Retrieving Schema Information"),(0,r.yg)("p",null,"You can retrieve information about a specific schema:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"GET /api/schemas/{id}\n")),(0,r.yg)("p",null,"Or list all available schemas:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"GET /api/schemas\n")),(0,r.yg)("h3",{id:"updating-a-schema"},"Updating a Schema"),(0,r.yg)("p",null,"Schemas can be updated to add new fields, change validation rules, or fix issues:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-json"},'PUT /api/schemas/{id}\n{\n  "title": "Product",\n  "version": "1.1.0",\n  "description": "Schema for product information",\n  "required": ["name", "sku", "price"],\n  "properties": {\n    "name": {\n      "type": "string",\n      "description": "Product name"\n    },\n    "sku": {\n      "type": "string",\n      "description": "Stock keeping unit"\n    },\n    "price": {\n      "type": "number",\n      "minimum": 0,\n      "description": "Product price"\n    },\n    "description": {\n      "type": "string",\n      "description": "Product description"\n    },\n    "category": {\n      "type": "string",\n      "description": "Product category"\n    },\n    "tags": {\n      "type": "array",\n      "items": {\n        "type": "string"\n      },\n      "description": "Product tags"\n    }\n  }\n}\n')),(0,r.yg)("h3",{id:"schema-versioning"},"Schema Versioning"),(0,r.yg)("p",null,"Open Register supports schema versioning to manage changes over time:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Minor Updates"),": Adding optional fields or relaxing constraints"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Major Updates"),": Adding required fields, removing fields, or changing field types"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Archive"),": Previous versions are stored in the schema's archive property")),(0,r.yg)("h2",{id:"schema-design-best-practices"},"Schema Design Best Practices"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Start Simple"),": Begin with the minimum required fields and add complexity as needed"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Use Clear Names"),": Choose descriptive property names that reflect their purpose"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Add Descriptions"),": Document each property with clear descriptions"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Consider Validation"),": Add appropriate validation rules to ensure data quality"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Think About Relationships"),": Design schemas with relationships in mind"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Plan for Evolution"),": Design schemas to accommodate future changes"),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("strong",{parentName:"li"},"Reuse Common Patterns"),": Create reusable components for common data structures")),(0,r.yg)("h2",{id:"relationship-to-other-concepts"},"Relationship to Other Concepts"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Registers"),": Registers specify which schemas they support"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Objects"),": Objects must conform to a schema to be valid"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Validation"),": The validation engine uses schemas to validate objects")),(0,r.yg)("h2",{id:"conclusion"},"Conclusion"),(0,r.yg)("p",null,"Schemas are the foundation of data quality in Open Register. By defining clear, consistent structures for your data, you ensure that all information in the system meets your requirements and can be reliably used across different applications and processes."))}d.isMDXComponent=!0},5680:(e,n,t)=>{t.d(n,{xA:()=>c,yg:()=>u});var a=t(6540);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},g=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),m=p(t),g=r,u=m["".concat(l,".").concat(g)]||m[g]||d[g]||i;return t?a.createElement(u,s(s({ref:n},c),{},{components:t})):a.createElement(u,s({ref:n},c))}));function u(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=g;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o[m]="string"==typeof e?e:r,s[1]=o;for(var p=2;p<i;p++)s[p]=t[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,t)}g.displayName="MDXCreateElement"}}]);